{"version":3,"sources":["src/js/editBook.js"],"names":["makeFieldsEditable","bookElement","isEditable","querySelectorAll","forEach","field","contentEditable","fieldsColorChange","nameField","querySelector","authorField","categoryField","yearsField","priceField","colorChange","_iterator","_createForOfIteratorHelper","_step","s","n","done","color","value","style","background","err","e","f","_iterator2","_step2","saveEditedBook","bookId","updatedBook","id","name","innerText","author","category","year","price","parseFloat","slice","artwork","storedBooks","JSON","parse","localStorage","getItem","bookIndex","findIndex","book","setItem","stringify","editBook","document","getElementById","saveButton","editButton","textContent","display","addEventListener","parseInt"],"mappings":"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","file":"editBook.e12ad825.js","sourceRoot":"..","sourcesContent":["// ==================== editBook.js ==================== //\n\nfunction makeFieldsEditable(bookElement, isEditable) {\n  bookElement.querySelectorAll(\".editable\").forEach((field) => {\n    field.contentEditable = isEditable;\n  });\n\n  fieldsColorChange(bookElement, isEditable);\n}\n\nfunction fieldsColorChange(bookElement, isEditable) {\n  // Styling on editing\n  const nameField = bookElement.querySelector(\".single-book__name\");\n  const authorField = bookElement.querySelector(\".single-book__author\");\n  const categoryField = bookElement.querySelector(\".single-book_category\");\n  const yearsField = bookElement.querySelector(\".single-book__years\");\n  const priceField = bookElement.querySelector(\".single-book__price\");\n\n  let colorChange = [\n    nameField,\n    authorField,\n    categoryField,\n    yearsField,\n    priceField,\n  ];\n\n  if (isEditable) {\n    for (let color of colorChange) {\n      color.style.background = \"#fec868\";\n    }\n  } else {\n    for (let color of colorChange) {\n      color.style.background = \"none\";\n    }\n  }\n}\n\nfunction saveEditedBook(bookElement, bookId) {\n  let updatedBook = {\n    id: bookId,\n    name: bookElement.querySelector(\".single-book__name\").innerText,\n    author: bookElement.querySelector(\".single-book__author\").innerText,\n    category: bookElement.querySelector(\".single-book_category\").innerText,\n    year: bookElement.querySelector(\".single-book__years\").innerText,\n    price: parseFloat(\n      bookElement.querySelector(\".single-book__price\").innerText.slice(0, -1)\n    ),\n    artwork: \"\",\n  };\n\n  // Retrieve storedBooks from localStorage\n  const storedBooks = JSON.parse(localStorage.getItem(\"books\"));\n  // Find the index of the book to update\n  const bookIndex = storedBooks.findIndex((book) => book.id === bookId);\n\n  // Update the book in the storedBooks array\n  storedBooks[bookIndex] = updatedBook;\n\n  localStorage.setItem(\"books\", JSON.stringify(storedBooks));\n  makeFieldsEditable(bookElement, false);\n}\n\nexport function editBook(bookId) {\n  const bookElement = document.getElementById(bookId);\n\n  const saveButton = bookElement.querySelector(\".btn.save\");\n  const editButton = bookElement.querySelector(\".btn.edit\");\n\n  if (editButton.textContent === \"Edit\") {\n    makeFieldsEditable(bookElement, true);\n    editButton.textContent = \"Cancel\";\n    saveButton.style.display = \"inline-block\";\n  } else {\n    makeFieldsEditable(bookElement, false);\n    editButton.textContent = \"Edit\";\n    saveButton.style.display = \"none\";\n  }\n\n  saveButton.addEventListener(\"click\", () => {\n    saveEditedBook(bookElement, parseInt(bookId));\n    editButton.textContent = \"Edit\";\n    saveButton.style.display = \"none\";\n  });\n}\n"]}