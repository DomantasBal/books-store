{"version":3,"sources":["src/js/index.js"],"names":["savedBooks","Book","id","name","author","category","year","price","artwork","addNewBook","event","preventDefault","form","document","getElementById","storedBooks","JSON","parse","localStorage","getItem","booksArray","Array","isArray","priceInput","elements","parseFloat","value","removeErrorMessage","style","borderColor","isNaN","handleInvalidInput","book","length","updatedBooks","concat","_toConsumableArray","setItem","stringify","reset","updateFilters","location","reload","inputElement","placeholder","errorMessage","previousElementSibling","classList","contains","remove","bookTemplate","bindBookEventListeners","querySelectorAll","forEach","button","addEventListener","editBook","getAttribute","deleteBook","makeFieldsEditable","bookElement","isEditable","field","contentEditable","fieldsColorChange","colorChange","querySelector","_step","_iterator","_createForOfIteratorHelper","s","n","done","background","err","e","f","_step2","_iterator2","saveEditedBook","bookId","updatedBook","innerText","slice","bookIndex","findIndex","saveButton","editButton","textContent","display","parseInt","idNumber","Number","splice","alert","authorFilter","categoryFilter","authors","Set","map","categories","innerHTML","appendChild","Option","filterAndRenderBooks","priceSort","filteredBooks","filter","sort","a","b","booksContainer","bookHtml","selectAuthor","selectCategory","selectPrice","searchBooks","searchTerm","toLowerCase","trim","includes","window","searchForm","scrollToSection","addNewBookBtn","focus","heroBtn","scrollIntoView","behavior","burger","closeIcon","header","originalHeaderTop","top","opacity"],"mappings":";AA+YE,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,oBAAA,QAAA,EAAA,OAAA,WAAA,EAAA,cAAA,IAAA,EAAA,CAAA,GAAA,MAAA,QAAA,KAAA,EAAA,EAAA,KAAA,GAAA,GAAA,iBAAA,EAAA,OAAA,CAAA,IAAA,EAAA,GAAA,IAAA,EAAA,EAAA,EAAA,aAAA,MAAA,CAAA,EAAA,EAAA,EAAA,WAAA,OAAA,GAAA,EAAA,OAAA,CAAA,MAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,SAAA,GAAA,MAAA,GAAA,EAAA,GAAA,MAAA,IAAA,UAAA,yIAAA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,MAAA,CAAA,EAAA,WAAA,EAAA,EAAA,KAAA,IAAA,EAAA,WAAA,IAAA,EAAA,EAAA,OAAA,OAAA,EAAA,EAAA,KAAA,GAAA,EAAA,SAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,WAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,MAAA,EAAA,OAAA,WAAA,MAAA,EAAA,cAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EA7YF,IAAIA,EAAa,GAGjB,SAASC,EAAKC,EAAIC,EAAMC,EAAQC,EAAUC,EAAMC,EAAOC,GACrD,KAAKN,GAAKA,EACV,KAAKC,KAAOA,EACZ,KAAKC,OAASA,EACd,KAAKC,SAAWA,EAChB,KAAKC,KAAOA,EACZ,KAAKC,MAAQA,EACb,KAAKC,QAAUA,EAIjB,SAASC,EAAWC,GAClBA,EAAMC,iBACN,IAAMC,EAAOC,SAASC,eAAe,iBAE/BC,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,GAE3DC,EAAaC,MAAMC,QAAQP,GAAeA,EAAc,GAExDQ,EAAaX,EAAKY,SAAS,GAC3BjB,EAAQkB,WAAWF,EAAWG,OAOpC,GAJAC,EAAmBJ,GACnBA,EAAWK,MAAMC,YAAc,GAG3BC,MAAMvB,GACRwB,EAAmBR,OADrB,CAMA,IAAMS,EAAO,IAAI/B,EACfc,EAAYkB,OAAS,EACrBrB,EAAKY,SAAS,GAAGE,MACjBd,EAAKY,SAAS,GAAGE,MACjBd,EAAKY,SAAS,GAAGE,MACjBd,EAAKY,SAAS,GAAGE,MACjBD,WAAWb,EAAKY,SAAS,GAAGE,OAC5Bd,EAAKY,SAAS,GAAGE,OAIbQ,EAAYC,GAAAA,OAAAC,EAAOhB,GAAYY,CAAAA,IAGrCd,aAAamB,QAAQ,QAASrB,KAAKsB,UAAUJ,IAC7CtB,EAAK2B,QACLC,IACAC,SAASC,UAGX,SAASX,EAAmBY,GAC1BA,EAAaf,MAAMC,YAAc,MACjCc,EAAajB,MAAQ,GACrBiB,EAAaC,YAAc,6CAG7B,SAASjB,EAAmBgB,GAC1B,IAAME,EAAeF,EAAaG,uBAC9BD,GAAgBA,EAAaE,UAAUC,SAAS,kBAClDH,EAAaI,SAOjB,IAAMrC,EAAOC,SAASC,eAAe,iBAGrC,SAASoC,EAAalB,GACpB,MAAAG,qBAAAA,OACgBH,EAAK9B,GAAEiC,6EAAAA,OAETH,EAAKxB,QAAO2B,6HAAAA,OAIqCH,EAAK7B,KAAIgC,oGAAAA,OAGNH,EAAK5B,OAAM+B,sGAAAA,OAGRH,EAAK3B,SAAQ8B,+FAAAA,OAGpBH,EAAK1B,KAAI6B,0FAAAA,OAG5BH,EAAKzB,MAAK4B,+HAAAA,OAIRH,EAAK9B,GAAEiC,kEAAAA,OACPH,EAAK9B,GAAEiC,yFAAAA,OACLH,EAAK9B,GAAE,uDAMxD,SAASiD,IAEatC,SAASuC,iBAAiB,aAClCC,QAAQ,SAACC,GACnBA,EAAOC,iBAAiB,QAAS,WAE/BC,EADeF,EAAOG,aAAa,qBAMjB5C,SAASuC,iBAAiB,eAClCC,QAAQ,SAACC,GACrBA,EAAOC,iBAAiB,QAAS,WAE/BG,EADeJ,EAAOG,aAAa,qBAQzC,SAASE,EAAmBC,EAAaC,GACvCD,EAAYR,iBAAiB,aAAaC,QAAQ,SAACS,GACjDA,EAAMC,gBAAkBF,IAG1BG,EAAkBJ,EAAaC,GAGjC,SAASG,EAAkBJ,EAAaC,GAEtC,IAMII,EAAc,CANAL,EAAYM,cAAc,sBACxBN,EAAYM,cAAc,wBACxBN,EAAYM,cAAc,yBAC7BN,EAAYM,cAAc,uBAC1BN,EAAYM,cAAc,wBAU7C,GAAIL,EAAY,CAAA,IACeM,EADfC,EAAAC,EACIJ,GAAW,IAA7B,IAAAG,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAA+B,CAAjBL,EAAAzC,MACNE,MAAM6C,WAAa,WAC1BC,MAAAA,GAAAN,EAAAO,EAAAD,GAAA,QAAAN,EAAAQ,SACI,CAAA,IACwBC,EADxBC,EAAAT,EACaJ,GAAW,IAA7B,IAAAa,EAAAR,MAAAO,EAAAC,EAAAP,KAAAC,MAA+B,CAAjBK,EAAAnD,MACNE,MAAM6C,WAAa,QAC1BC,MAAAA,GAAAI,EAAAH,EAAAD,GAAA,QAAAI,EAAAF,MAIL,SAASG,EAAenB,EAAaoB,GACnC,IAAIC,EAAc,CAChB/E,GAAI8E,EACJ7E,KAAMyD,EAAYM,cAAc,sBAAsBgB,UACtD9E,OAAQwD,EAAYM,cAAc,wBAAwBgB,UAC1D7E,SAAUuD,EAAYM,cAAc,yBAAyBgB,UAC7D5E,KAAMsD,EAAYM,cAAc,uBAAuBgB,UACvD3E,MAAOkB,WACLmC,EAAYM,cAAc,uBAAuBgB,UAAUC,MAAM,GAAI,IAEvE3E,QAAS,IAILO,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,UAE9CiE,EAAYrE,EAAYsE,UAAU,SAACrD,GAAI,OAAKA,EAAK9B,KAAO8E,IAG9DjE,EAAYqE,GAAaH,EAEzB/D,aAAamB,QAAQ,QAASrB,KAAKsB,UAAUvB,IAC7C4C,EAAmBC,GAAa,GAGlC,SAASJ,EAASwB,GAChB,IAAMpB,EAAc/C,SAASC,eAAekE,GAEtCM,EAAa1B,EAAYM,cAAc,aACvCqB,EAAa3B,EAAYM,cAAc,aAEd,SAA3BqB,EAAWC,aACb7B,EAAmBC,GAAa,GAChC2B,EAAWC,YAAc,SACzBF,EAAW1D,MAAM6D,QAAU,iBAE3B9B,EAAmBC,GAAa,GAChC2B,EAAWC,YAAc,OACzBF,EAAW1D,MAAM6D,QAAU,QAG7BH,EAAW/B,iBAAiB,QAAS,WACnCwB,EAAenB,EAAa8B,SAASV,IACrCO,EAAWC,YAAc,OACzBF,EAAW1D,MAAM6D,QAAU,SAM/B,SAAS/B,EAAWsB,GAClB,IAAMjE,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,UAC9CwE,EAAWC,OAAOZ,GAGlBI,EAAYrE,EAAYsE,UAAU,SAACrD,GAAI,OAAKA,EAAK9B,KAAOyF,KAE3C,IAAfP,GACFrE,EAAY8E,OAAOT,EAAW,GAC9BlE,aAAamB,QAAQ,QAASrB,KAAKsB,UAAUvB,KAE7C+E,MAAM,mCAERtD,IACAC,SAASC,SAIX,SAASF,IACP,IAAMuD,EAAelF,SAASC,eAAe,kBACvCkF,EAAiBnF,SAASC,eAAe,mBACzCC,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,UAG9C8E,EAAO7D,EAAO,IAAI8D,IAAInF,EAAYoF,IAAI,SAACnE,GAAI,OAAKA,EAAK5B,WACrDgG,EAAUhE,EAAO,IAAI8D,IAAInF,EAAYoF,IAAI,SAACnE,GAAI,OAAKA,EAAK3B,aAG9D0F,EAAaM,UAAmD,wCAChEJ,EAAQ5C,QAAQ,SAACjD,GAAM,OACrB2F,EAAaO,YAAY,IAAIC,OAAOnG,EAAQA,MAI9C4F,EAAeK,UAAsD,2CACrED,EAAW/C,QAAQ,SAAChD,GAAQ,OAC1B2F,EAAeM,YAAY,IAAIC,OAAOlG,EAAUA,MAIpD,SAASmG,IACP,IAAMT,EAAelF,SAASC,eAAe,kBACvCkF,EAAiBnF,SAASC,eAAe,mBACzC2F,EAAY5F,SAASC,eAAe,gBAGtC4F,EAFgB1F,KAAKC,MAAMC,aAAaC,QAAQ,UAI/B,OAAjB4E,GAAyBA,EAAarE,QACxCgF,EAAgBA,EAAcC,OAC5B,SAAC3E,GAAI,OAAKA,EAAK5B,SAAW2F,EAAarE,SAIpB,OAAnBsE,GAA2BA,EAAetE,QAC5CgF,EAAgBA,EAAcC,OAC5B,SAAC3E,GAAI,OAAKA,EAAK3B,WAAa2F,EAAetE,SAI7B,OAAd+E,GAAsBA,EAAU/E,OAClCgF,EAAcE,KAAK,SAACC,EAAGC,GACrB,MAAwB,YAApBL,EAAU/E,MACLmF,EAAEtG,MAAQuG,EAAEvG,MACU,YAApBkG,EAAU/E,MACZoF,EAAEvG,MAAQsG,EAAEtG,MAEd,IAIX,IAAMwG,EAAiBlG,SAASqD,cAAc,oBAEvB,OAAnB6C,IACEL,EAAczE,OAAS,GACzB8E,EAAeV,UAAY,GAC3BK,EAAcrD,QAAQ,SAACrB,GACrB,IAAMgF,EAAW9D,EAAalB,GACN,iBAAbgF,IACTD,EAAeV,WAAaW,KAGhC7D,KAEA4D,EAAeV,UAAY,2BAjOjCzF,EAAK2C,iBAAiB,SAAU9C,GAuOhC,IAAMwG,EAAepG,SAASC,eAAe,kBAC7CmG,EAAa1D,iBAAiB,SAAUiD,GAGxC,IAAMU,EAAiBrG,SAASC,eAAe,mBAC/CoG,EAAe3D,iBAAiB,SAAUiD,GAG1C,IAAMW,EAActG,SAASC,eAAe,gBAU5C,SAASsG,IACP,IACMC,EADcxG,SAASC,eAAe,gBACbY,MAAM4F,cAAcC,OAG/Cb,EAFgB1F,KAAKC,MAAMC,aAAaC,QAAQ,UAEpBwF,OAAO,SAAC3E,GAAI,OAC1CA,EAAK7B,KAAKmH,cAAcE,SAASH,KAG7BN,EAAiBlG,SAASqD,cAAc,oBAEvB,OAAnB6C,IACFA,EAAeV,UAAY,GAEvBK,EAAczE,OAAS,GACzByE,EAAcrD,QAAQ,SAACrB,GACrB,IAAMgF,EAAW9D,EAAalB,GACN,iBAAbgF,IACTD,EAAeV,WAAaW,KAIhC7D,KAEA4D,EAAe7B,UAAY,mBAjCjCiC,EAAY5D,iBAAiB,SAAUiD,GAEvCiB,OAAOlE,iBAAiB,OAAQ,WAC9BiD,IACAhE,MAkCF,IAAMkF,EAAa7G,SAASC,eAAe,eAC3C4G,EAAWnE,iBAAiB,SAAU,SAAC7C,GACrCA,EAAMC,iBACNyG,IACAO,EAAgB,WAKlB,IAAMC,EAAgB/G,SAASqD,cAAc,aAE7C0D,EAAcrE,iBAAiB,QAAS,WACzB1C,SAASC,eAAe,iBAChCU,SAAS,GAAGqG,QACjBF,EAAgB,cAGlB,IAAMG,EAAUjH,SAASqD,cAAc,aAMvC,SAASyD,EAAgBzH,GACPW,SAASC,eAAeZ,GAChC6H,eAAe,CAAEC,SAAU,WANrCF,EAAQvE,iBAAiB,QAAS,WAChCoE,EAAgB,WAUlB,IAAMM,EAASpH,SAASqD,cAAc,WAChCgE,EAAYrH,SAASqD,cAAc,eACnCiE,EAAStH,SAASqD,cAAc,WAElCkE,EAAoBD,EAAOvG,MAAMyG,IAErCJ,EAAO1E,iBAAiB,QAAS,WAC/B4E,EAAOvG,MAAM0G,QAAU,EACvBH,EAAOvG,MAAMyG,IAAM,EACnBJ,EAAOrG,MAAM0G,QAAU,IAGzBJ,EAAU3E,iBAAiB,QAAS,WAClC0E,EAAOrG,MAAM0G,QAAU,EACvBH,EAAOvG,MAAM0G,QAAU,EACvBH,EAAOvG,MAAMyG,IAAMD","file":"js.f2ad6045.js","sourceRoot":"..","sourcesContent":["// ==================== localstorage.js ==================== //\n\nlet savedBooks = [];\n\n// CONSTRUCTOR FUNCTION TO POPULATE BOOK OBJECT WITH FORM DATA\nfunction Book(id, name, author, category, year, price, artwork) {\n  this.id = id;\n  this.name = name;\n  this.author = author;\n  this.category = category;\n  this.year = year;\n  this.price = price;\n  this.artwork = artwork;\n}\n\n// COLLECTS FORM DATA AND CREATES NEW OBJECT\nfunction addNewBook(event) {\n  event.preventDefault();\n  const form = document.getElementById(\"new-book-form\");\n\n  const storedBooks = JSON.parse(localStorage.getItem(\"books\")) || [];\n\n  const booksArray = Array.isArray(storedBooks) ? storedBooks : [];\n\n  const priceInput = form.elements[4];\n  const price = parseFloat(priceInput.value);\n\n  // Remove any existing error message and reset border color\n  removeErrorMessage(priceInput);\n  priceInput.style.borderColor = \"\";\n\n  // Check if the price is a valid number\n  if (isNaN(price)) {\n    handleInvalidInput(priceInput);\n\n    return;\n  }\n\n  const book = new Book(\n    storedBooks.length + 1,\n    form.elements[0].value,\n    form.elements[1].value,\n    form.elements[2].value,\n    form.elements[3].value,\n    parseFloat(form.elements[4].value),\n    form.elements[5].value\n  );\n\n  // APPEND THE NEW BOOK TO THE ARRAY AT LOCALSTORAGE\n  const updatedBooks = [...booksArray, book];\n\n  //   SETS UPDATED BOOKS ARRAY IN LOCALSTORAGE\n  localStorage.setItem(\"books\", JSON.stringify(updatedBooks));\n  form.reset();\n  updateFilters();\n  location.reload();\n}\n\nfunction handleInvalidInput(inputElement) {\n  inputElement.style.borderColor = \"red\";\n  inputElement.value = \"\";\n  inputElement.placeholder = \"Please enter a valid number for the price.\";\n}\n\nfunction removeErrorMessage(inputElement) {\n  const errorMessage = inputElement.previousElementSibling;\n  if (errorMessage && errorMessage.classList.contains(\"error-message\")) {\n    errorMessage.remove();\n  }\n}\n\n// ==================== createBookListing.js ==================== //\n\n// FORM SUBMIT EVENT\nconst form = document.getElementById(\"new-book-form\");\nform.addEventListener(\"submit\", addNewBook);\n\nfunction bookTemplate(book) {\n  return `\n    <article id=${book.id} class=\"single-book\">\n    <div class=\"single-book__img\">\n    <img src=\"${book.artwork}\" />\n    </div>\n    <div class=\"book-info\">\n    <div>\n    <span>Title:</span> <h3 class=\"single-book__name editable\">${book.name}</h3>\n    </div>\n    <div>\n    <span>Author:</span>  <p class=\"single-book__author editable\">${book.author}</p>\n    </div>\n    <div>\n    <span>Category:</span>  <p class=\"single-book_category editable\">${book.category}</p>\n    </div>\n    <div>\n    <span>Year:</span> <p class=\"single-book__years editable\">${book.year}</p>\n    </div>\n    <div class=\"price\">\n    <p class=\"single-book__price editable\">${book.price}</p><span>€</span> \n    </div>\n    </div>\n    <div class=\"book-controls\">\n      <button class=\"btn edit\" data-book-id=\"${book.id}\">Edit</button>\n      <button class=\"btn save\" data-book-id=\"${book.id}\" style=\"display:none\">Save</button>\n      <button class=\"btn delete\" data-book-id=\"${book.id}\">Delete</button>\n    </div>\n  </article>\n      `;\n}\n\nfunction bindBookEventListeners() {\n  // EDIT BTN FUNC\n  const editButtons = document.querySelectorAll(\".btn.edit\");\n  editButtons.forEach((button) => {\n    button.addEventListener(\"click\", () => {\n      const bookId = button.getAttribute(\"data-book-id\");\n      editBook(bookId);\n    });\n  });\n\n  // DELETE BTN FUNC\n  const deleteButtons = document.querySelectorAll(\".btn.delete\");\n  deleteButtons.forEach((button) => {\n    button.addEventListener(\"click\", () => {\n      const bookId = button.getAttribute(\"data-book-id\");\n      deleteBook(bookId);\n    });\n  });\n}\n\n// ==================== editBook.js ==================== //\n\nfunction makeFieldsEditable(bookElement, isEditable) {\n  bookElement.querySelectorAll(\".editable\").forEach((field) => {\n    field.contentEditable = isEditable;\n  });\n\n  fieldsColorChange(bookElement, isEditable);\n}\n\nfunction fieldsColorChange(bookElement, isEditable) {\n  // Styling on editing\n  const nameField = bookElement.querySelector(\".single-book__name\");\n  const authorField = bookElement.querySelector(\".single-book__author\");\n  const categoryField = bookElement.querySelector(\".single-book_category\");\n  const yearsField = bookElement.querySelector(\".single-book__years\");\n  const priceField = bookElement.querySelector(\".single-book__price\");\n\n  let colorChange = [\n    nameField,\n    authorField,\n    categoryField,\n    yearsField,\n    priceField,\n  ];\n\n  if (isEditable) {\n    for (let color of colorChange) {\n      color.style.background = \"#fec868\";\n    }\n  } else {\n    for (let color of colorChange) {\n      color.style.background = \"none\";\n    }\n  }\n}\n\nfunction saveEditedBook(bookElement, bookId) {\n  let updatedBook = {\n    id: bookId,\n    name: bookElement.querySelector(\".single-book__name\").innerText,\n    author: bookElement.querySelector(\".single-book__author\").innerText,\n    category: bookElement.querySelector(\".single-book_category\").innerText,\n    year: bookElement.querySelector(\".single-book__years\").innerText,\n    price: parseFloat(\n      bookElement.querySelector(\".single-book__price\").innerText.slice(0, -1)\n    ),\n    artwork: \"\",\n  };\n\n  // Retrieve storedBooks from localStorage\n  const storedBooks = JSON.parse(localStorage.getItem(\"books\"));\n  // Find the index of the book to update\n  const bookIndex = storedBooks.findIndex((book) => book.id === bookId);\n\n  // Update the book in the storedBooks array\n  storedBooks[bookIndex] = updatedBook;\n\n  localStorage.setItem(\"books\", JSON.stringify(storedBooks));\n  makeFieldsEditable(bookElement, false);\n}\n\nfunction editBook(bookId) {\n  const bookElement = document.getElementById(bookId);\n\n  const saveButton = bookElement.querySelector(\".btn.save\");\n  const editButton = bookElement.querySelector(\".btn.edit\");\n\n  if (editButton.textContent === \"Edit\") {\n    makeFieldsEditable(bookElement, true);\n    editButton.textContent = \"Cancel\";\n    saveButton.style.display = \"inline-block\";\n  } else {\n    makeFieldsEditable(bookElement, false);\n    editButton.textContent = \"Edit\";\n    saveButton.style.display = \"none\";\n  }\n\n  saveButton.addEventListener(\"click\", () => {\n    saveEditedBook(bookElement, parseInt(bookId));\n    editButton.textContent = \"Edit\";\n    saveButton.style.display = \"none\";\n  });\n}\n\n// ==================== deleteBook.js ==================== //\n\nfunction deleteBook(bookId) {\n  const storedBooks = JSON.parse(localStorage.getItem(\"books\"));\n  const idNumber = Number(bookId);\n\n  // Find the index of the book to delete\n  const bookIndex = storedBooks.findIndex((book) => book.id === idNumber);\n\n  if (bookIndex !== -1) {\n    storedBooks.splice(bookIndex, 1);\n    localStorage.setItem(\"books\", JSON.stringify(storedBooks));\n  } else {\n    alert(\"book was not found in database.\");\n  }\n  updateFilters();\n  location.reload();\n}\n\n// ==================== filters.js ==================== //\nfunction updateFilters() {\n  const authorFilter = document.getElementById(\"authors-select\");\n  const categoryFilter = document.getElementById(\"category-select\");\n  const storedBooks = JSON.parse(localStorage.getItem(\"books\"));\n\n  // Get unique authors and categories from storedBooks\n  const authors = [...new Set(storedBooks.map((book) => book.author))];\n  const categories = [...new Set(storedBooks.map((book) => book.category))];\n\n  // Clear and repopulate authorFilter\n  authorFilter.innerHTML = `<option value=\"\">All authors</option>`;\n  authors.forEach((author) =>\n    authorFilter.appendChild(new Option(author, author))\n  );\n\n  // Clear and repopulate categoryFilter\n  categoryFilter.innerHTML = `<option value=\"\">All categories</option>`;\n  categories.forEach((category) =>\n    categoryFilter.appendChild(new Option(category, category))\n  );\n}\n\nfunction filterAndRenderBooks() {\n  const authorFilter = document.getElementById(\"authors-select\");\n  const categoryFilter = document.getElementById(\"category-select\");\n  const priceSort = document.getElementById(\"price-select\");\n  const storedBooks = JSON.parse(localStorage.getItem(\"books\"));\n\n  let filteredBooks = storedBooks;\n\n  if (authorFilter !== null && authorFilter.value) {\n    filteredBooks = filteredBooks.filter(\n      (book) => book.author === authorFilter.value\n    );\n  }\n\n  if (categoryFilter !== null && categoryFilter.value) {\n    filteredBooks = filteredBooks.filter(\n      (book) => book.category === categoryFilter.value\n    );\n  }\n\n  if (priceSort !== null && priceSort.value) {\n    filteredBooks.sort((a, b) => {\n      if (priceSort.value === \"min-max\") {\n        return a.price - b.price;\n      } else if (priceSort.value === \"max-min\") {\n        return b.price - a.price;\n      }\n      return 0;\n    });\n  }\n\n  const booksContainer = document.querySelector(\".books-container\");\n\n  if (booksContainer !== null) {\n    if (filteredBooks.length > 0) {\n      booksContainer.innerHTML = \"\";\n      filteredBooks.forEach((book) => {\n        const bookHtml = bookTemplate(book);\n        if (typeof bookHtml === \"string\") {\n          booksContainer.innerHTML += bookHtml;\n        }\n      });\n      bindBookEventListeners();\n    } else {\n      booksContainer.innerHTML = \"<p>No books listed.</p>\";\n    }\n  }\n}\n\n// AUTHOR FILTER\nconst selectAuthor = document.getElementById(\"authors-select\");\nselectAuthor.addEventListener(\"change\", filterAndRenderBooks);\n\n// CATEGORY FILTER\nconst selectCategory = document.getElementById(\"category-select\");\nselectCategory.addEventListener(\"change\", filterAndRenderBooks);\n\n// PRICE SORT\nconst selectPrice = document.getElementById(\"price-select\");\nselectPrice.addEventListener(\"change\", filterAndRenderBooks);\n\nwindow.addEventListener(\"load\", () => {\n  filterAndRenderBooks();\n  updateFilters();\n});\n\n// ==================== search.js ==================== //\n\nfunction searchBooks() {\n  const searchInput = document.getElementById(\"search-input\");\n  const searchTerm = searchInput.value.toLowerCase().trim();\n  const storedBooks = JSON.parse(localStorage.getItem(\"books\"));\n\n  let filteredBooks = storedBooks.filter((book) =>\n    book.name.toLowerCase().includes(searchTerm)\n  );\n\n  const booksContainer = document.querySelector(\".books-container\");\n\n  if (booksContainer !== null) {\n    booksContainer.innerHTML = \"\";\n\n    if (filteredBooks.length > 0) {\n      filteredBooks.forEach((book) => {\n        const bookHtml = bookTemplate(book);\n        if (typeof bookHtml === \"string\") {\n          booksContainer.innerHTML += bookHtml;\n        }\n      });\n\n      bindBookEventListeners();\n    } else {\n      booksContainer.innerText = \"No books found.\";\n    }\n  }\n}\n\nconst searchForm = document.getElementById(\"search-form\");\nsearchForm.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  searchBooks();\n  scrollToSection(\"books\");\n});\n\n// ==================== General Functionality.js ==================== //\n\nconst addNewBookBtn = document.querySelector(\".add-book\");\n\naddNewBookBtn.addEventListener(\"click\", () => {\n  const form = document.getElementById(\"new-book-form\");\n  form.elements[0].focus();\n  scrollToSection(\"new-book\");\n});\n\nconst heroBtn = document.querySelector(\"#hero-btn\");\n\nheroBtn.addEventListener(\"click\", () => {\n  scrollToSection(\"books\");\n});\n\nfunction scrollToSection(id) {\n  const section = document.getElementById(id);\n  section.scrollIntoView({ behavior: \"smooth\" });\n}\n\n// ==================== Burger.js ==================== //\n\nconst burger = document.querySelector(\".burger\");\nconst closeIcon = document.querySelector(\".close-icon\");\nconst header = document.querySelector(\"#header\");\n\nlet originalHeaderTop = header.style.top;\n\nburger.addEventListener(\"click\", () => {\n  header.style.opacity = 1;\n  header.style.top = 0;\n  burger.style.opacity = 0;\n});\n\ncloseIcon.addEventListener(\"click\", () => {\n  burger.style.opacity = 1;\n  header.style.opacity = 0;\n  header.style.top = originalHeaderTop;\n});\n"]}