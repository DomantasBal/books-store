{"version":3,"sources":["src/js/localstorage.js"],"names":["savedBooks","Book","id","name","author","category","year","price","artwork","addNewBook","event","preventDefault","form","document","getElementById","storedBooks","JSON","parse","localStorage","getItem","booksArray","Array","isArray","priceInput","elements","parseFloat","value","removeErrorMessage","style","borderColor","isNaN","handleInvalidInput","book","length","updatedBooks","concat","_toConsumableArray","setItem","stringify","reset","updateFilters","location","reload","inputElement","placeholder","errorMessage","previousElementSibling","classList","contains","remove"],"mappings":";;;;;;;;;;;;;;AAAA;;AAEA,IAAIA,UAAU,GAAG,EAAE;;AAEnB;AACA,SAASC,IAAIA,CAACC,EAAE,EAAEC,IAAI,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,KAAK,EAAEC,OAAO,EAAE;EAC9D,IAAI,CAACN,EAAE,GAAGA,EAAE;EACZ,IAAI,CAACC,IAAI,GAAGA,IAAI;EAChB,IAAI,CAACC,MAAM,GAAGA,MAAM;EACpB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;EACxB,IAAI,CAACC,IAAI,GAAGA,IAAI;EAChB,IAAI,CAACC,KAAK,GAAGA,KAAK;EAClB,IAAI,CAACC,OAAO,GAAGA,OAAO;AACxB;;AAEA;AACO,SAASC,UAAUA,CAACC,KAAK,EAAE;EAChCA,KAAK,CAACC,cAAc,EAAE;EACtB,IAAMC,IAAI,GAAGC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;EAErD,IAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE;EAEnE,IAAMC,UAAU,GAAGC,KAAK,CAACC,OAAO,CAACP,WAAW,CAAC,GAAGA,WAAW,GAAG,EAAE;EAEhE,IAAMQ,UAAU,GAAGX,IAAI,CAACY,QAAQ,CAAC,CAAC,CAAC;EACnC,IAAMjB,KAAK,GAAGkB,UAAU,CAACF,UAAU,CAACG,KAAK,CAAC;;EAE1C;EACAC,kBAAkB,CAACJ,UAAU,CAAC;EAC9BA,UAAU,CAACK,KAAK,CAACC,WAAW,GAAG,EAAE;;EAEjC;EACA,IAAIC,KAAK,CAACvB,KAAK,CAAC,EAAE;IAChBwB,kBAAkB,CAACR,UAAU,CAAC;IAE9B;EACF;EAEA,IAAMS,IAAI,GAAG,IAAI/B,IAAI,CACnBc,WAAW,CAACkB,MAAM,GAAG,CAAC,EACtBrB,IAAI,CAACY,QAAQ,CAAC,CAAC,CAAC,CAACE,KAAK,EACtBd,IAAI,CAACY,QAAQ,CAAC,CAAC,CAAC,CAACE,KAAK,EACtBd,IAAI,CAACY,QAAQ,CAAC,CAAC,CAAC,CAACE,KAAK,EACtBd,IAAI,CAACY,QAAQ,CAAC,CAAC,CAAC,CAACE,KAAK,EACtBD,UAAU,CAACb,IAAI,CAACY,QAAQ,CAAC,CAAC,CAAC,CAACE,KAAK,CAAC,EAClCd,IAAI,CAACY,QAAQ,CAAC,CAAC,CAAC,CAACE,KAAK,CACvB;;EAED;EACA,IAAMQ,YAAY,MAAAC,MAAA,CAAAC,kBAAA,CAAOhB,UAAU,IAAEY,IAAI,EAAC;;EAE1C;EACAd,YAAY,CAACmB,OAAO,CAAC,OAAO,EAAErB,IAAI,CAACsB,SAAS,CAACJ,YAAY,CAAC,CAAC;EAC3DtB,IAAI,CAAC2B,KAAK,EAAE;EACZC,aAAa,EAAE;EACfC,QAAQ,CAACC,MAAM,EAAE;AACnB;AAEO,SAASX,kBAAkBA,CAACY,YAAY,EAAE;EAC/CA,YAAY,CAACf,KAAK,CAACC,WAAW,GAAG,KAAK;EACtCc,YAAY,CAACjB,KAAK,GAAG,EAAE;EACvBiB,YAAY,CAACC,WAAW,GAAG,4CAA4C;AACzE;AAEO,SAASjB,kBAAkBA,CAACgB,YAAY,EAAE;EAC/C,IAAME,YAAY,GAAGF,YAAY,CAACG,sBAAsB;EACxD,IAAID,YAAY,IAAIA,YAAY,CAACE,SAAS,CAACC,QAAQ,CAAC,eAAe,CAAC,EAAE;IACpEH,YAAY,CAACI,MAAM,EAAE;EACvB;AACF","file":"localstorage.d585240a.js","sourceRoot":"..","sourcesContent":["// ==================== localstorage.js ==================== //\n\nlet savedBooks = [];\n\n// CONSTRUCTOR FUNCTION TO POPULATE BOOK OBJECT WITH FORM DATA\nfunction Book(id, name, author, category, year, price, artwork) {\n  this.id = id;\n  this.name = name;\n  this.author = author;\n  this.category = category;\n  this.year = year;\n  this.price = price;\n  this.artwork = artwork;\n}\n\n// COLLECTS FORM DATA AND CREATES NEW OBJECT\nexport function addNewBook(event) {\n  event.preventDefault();\n  const form = document.getElementById(\"new-book-form\");\n\n  const storedBooks = JSON.parse(localStorage.getItem(\"books\")) || [];\n\n  const booksArray = Array.isArray(storedBooks) ? storedBooks : [];\n\n  const priceInput = form.elements[4];\n  const price = parseFloat(priceInput.value);\n\n  // Remove any existing error message and reset border color\n  removeErrorMessage(priceInput);\n  priceInput.style.borderColor = \"\";\n\n  // Check if the price is a valid number\n  if (isNaN(price)) {\n    handleInvalidInput(priceInput);\n\n    return;\n  }\n\n  const book = new Book(\n    storedBooks.length + 1,\n    form.elements[0].value,\n    form.elements[1].value,\n    form.elements[2].value,\n    form.elements[3].value,\n    parseFloat(form.elements[4].value),\n    form.elements[5].value\n  );\n\n  // APPEND THE NEW BOOK TO THE ARRAY AT LOCALSTORAGE\n  const updatedBooks = [...booksArray, book];\n\n  //   SETS UPDATED BOOKS ARRAY IN LOCALSTORAGE\n  localStorage.setItem(\"books\", JSON.stringify(updatedBooks));\n  form.reset();\n  updateFilters();\n  location.reload();\n}\n\nexport function handleInvalidInput(inputElement) {\n  inputElement.style.borderColor = \"red\";\n  inputElement.value = \"\";\n  inputElement.placeholder = \"Please enter a valid number for the price.\";\n}\n\nexport function removeErrorMessage(inputElement) {\n  const errorMessage = inputElement.previousElementSibling;\n  if (errorMessage && errorMessage.classList.contains(\"error-message\")) {\n    errorMessage.remove();\n  }\n}\n"]}